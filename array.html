<!DOCTYPE html>
<html>
<head>
  <title>
    Student Score
  </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="array.css">
</head>
<body>
  <div class="container">
    <h2>Score Form</h2>
    <form action="#" id="form">
      <div class="form-group">
        <label for="name">FirstName:</label>
        <input type="text" class="form-control" autocomplete="off" id="firstname" placeholder="Enter Firstname"
          name="firstname" >
      </div>
      <div class="form-group">
        <label for="name">LastName:</label>
        <input type="text" class="form-control" id="lastname" autocomplete="off" placeholder="Enter Lastname"
          name="Lastname">
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" class="form-control" id="email" autocomplete="off" placeholder="Enter email" name="email">
      </div>
      <div class="form-group">
        <label for="subject">Subject:</label>
        <input type="text" class="form-control" id="subject" autocomplete="off" placeholder="Enter subject"
          name="subject">
      </div>
      <div class="form-group">
        <label for="subject">Score:</label>
        <input type="text" class="form-control" id="score" autocomplete="off" placeholder="Enter score" name="score">
      </div>

      <button type="button" onclick="saveData()" id="save_btn" class="btn btn-default">Submit</button>
    </form>
  </div>

</body>
<script>
  function saveData() {
    let firstname, lastname, email, subject, score;
    firstname = document.getElementById("firstname").value;
    lastname = document.getElementById("lastname").value;
    email = document.getElementById("email").value;
    subject = document.getElementById("subject").value;
    score = document.getElementById("score").value;

    let user_records = new Array();
    user_records = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []
    if (user_records.some((v) => { return v.email == email })) {
      alert("duplicate data");
    }
    else {
      user_records.push({
        "firstname": firstname,
        "lastname": lastname,
        "email": email,
        "subject": subject,
        "score": score

      })
      localStorage.setItem("users", JSON.stringify(user_records));
      location.replace("http://127.0.0.1:5500/scoresubmitted.html");
    }

  }
  $(document).ready(function () {
    $("#save_btn").click(function () {
      $("#form")[0].reset();
    });
  });
</script>
</html>